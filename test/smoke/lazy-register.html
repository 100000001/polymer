<!doctype html>
<html>
<head>

  <title>lazy-register</title>

  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <script>
    Polymer = {lazyRegistration: true};
  </script>
  <script src="../../../webcomponentsjs/webcomponents-lite.js"></script>
  <link rel="import" href="../../polymer.html">

</head>
<body>

<script>
  (function() {
    var lr = Polymer.Base._ensureRegistered;
    Polymer.Base._ensureRegistered = function(proto) {
      console.log('_ensureRegistered', proto.is);
      lr.call(this, proto);
    }

  })();
</script>

  <dom-module id="x-base">
    <script>
      Polymer({

        is: 'x-base',

        properties: {
          state: {value: 'live!'}
        }

      });
    </script>
  </dom-module>

  <dom-module id="x-foo">
    <template>I {{state}}</template>
    <script>
      XFoo = Polymer({

        is: 'x-foo',
        extends: 'x-base'

      });
    </script>
  </dom-module>

  <dom-module id="x-bar">
    <script>
      Polymer({

        is: 'x-bar',
        extends: 'x-foo'

      });
    </script>
  </dom-module>


  <script>
    // console.log('XFoo has performed lazy registration tasks', Boolean(XFoo.prototype._template));
    // console.log('Create XFoo', new XFoo());
    // console.log('XFoo has performed lazy registration tasks', Boolean(XFoo.prototype._template));
  </script>

  <!-- <x-bar></x-bar> -->

</body>
</html>
